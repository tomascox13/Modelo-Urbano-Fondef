"0","#calcula otros = los que no son ni depto ni casa:"
"0","tipologias_2002_2017_comunas = mutate(tipologias_2002_2017_comunas, otros =  `Piezas en casa antigua o conventillo` + `Mediagua, mejora, Rancho o Choza` + `Vivienda Tradicional Indígena (ruka, pae pae u otras)` + `Móvil (carpa, casa rodante o similar)` + `Otro tipo de vivienda particular`)"
"0",""
"0","# resumen por censo y sector (urb, rural), para cada tipo:"
"0","resumen_tipologias = aggregate(Casa ~ Año + Area, tipologias_2002_2017_comunas, sum )"
"0","res_deptos = aggregate(`Departamento en edificio` ~ Año + Area, tipologias_2002_2017_comunas, sum )"
"0","res_otros = aggregate(otros ~ Año + Area, tipologias_2002_2017_comunas, sum )"
"0","resumen_tipologias = merge(resumen_tipologias,res_deptos, by = c(""Año"",""Area""), all.x = TRUE)"
"0","resumen_tipologias = merge(resumen_tipologias,res_otros, by = c(""Año"",""Area""), all.x = TRUE)"
"0","resumen_tipologias = mutate(resumen_tipologias, total = Casa + `Departamento en edificio` + otros)"
"0",""
"0","#porcentajes:"
"0","resumen_tipologias = mutate(resumen_tipologias, porc_Casas = Casa * 100 / total)"
"0","resumen_tipologias = mutate(resumen_tipologias, porc_Deptos = `Departamento en edificio` * 100 / total)"
"0","resumen_tipologias = mutate(resumen_tipologias, porc_Otros = otros * 100 / total)"
"0",""
"0","rm(res_deptos, res_otros)"
